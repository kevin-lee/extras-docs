"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8014],{7872(t,e,n){n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"extras-fs2/v2/extras-fs2-v2-text","title":"Fs2 v2 text","description":"Get extras-fs2-v2-text","source":"@site/../generated-docs/docs/extras-fs2/v2/text.md","sourceDirName":"extras-fs2/v2","slug":"/extras-fs2/v2/extras-fs2-v2-text","permalink":"/docs/extras-fs2/v2/extras-fs2-v2-text","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"fs2-v2-text","id":"extras-fs2-v2-text","title":"Fs2 v2 text"},"sidebar":"tutorialSidebar","previous":{"title":"v2","permalink":"/docs/category/v2"},"next":{"title":"v3","permalink":"/docs/category/v3"}}');var r=n(4848),a=n(8453);const i={sidebar_position:1,sidebar_label:"fs2-v2-text",id:"extras-fs2-v2-text",title:"Fs2 v2 text"},o=void 0,l={},c=[{value:"Get <code>extras-fs2-v2-text</code>",id:"get-extras-fs2-v2-text",level:2},{value:"Stream[F, Byte].utf8String",id:"streamf-byteutf8string",level:2},{value:"utf8String for http4s",id:"utf8string-for-http4s",level:2}];function d(t){const e={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h2,{id:"get-extras-fs2-v2-text",children:["Get ",(0,r.jsx)(e.code,{children:"extras-fs2-v2-text"})]}),"\n",(0,r.jsxs)(e.p,{children:["It's only for Fs2 v2 so if you use v3, please use ",(0,r.jsx)(e.a,{href:"../v3/extras-fs2-v3-text",children:"extras-fs2-v3-text"}),"."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-scala",children:'"io.kevinlee" %% "extras-fs2-v2-text" % "0.50.1"\n'})}),"\n",(0,r.jsxs)(e.p,{children:["or for ",(0,r.jsx)(e.code,{children:"Scala.js"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-scala",children:'"io.kevinlee" %%% "extras-fs2-v2-text" % "0.50.1"\n'})}),"\n",(0,r.jsx)(e.h2,{id:"streamf-byteutf8string",children:"Stream[F, Byte].utf8String"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-scala",children:"Stream[F, Byte].utf8String // F[String]\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-scala",children:'import cats.effect._\nimport extras.fs2.text.syntax._\nimport fs2.Stream\n\nimport java.nio.charset.StandardCharsets\n\nStream[IO, Byte]("blah blah".getBytes(StandardCharsets.UTF_8).toList: _*)\n  .utf8String // IO[String]\n  .unsafeRunSync()\n// res1: String = "blah blah"\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-scala",children:'import cats.effect._\nimport fs2.Stream\n\nimport java.nio.charset.StandardCharsets\n\ndef toByteStream[F[*]](s: String): Stream[F, Byte] =\n  Stream[F, Byte](s.getBytes(StandardCharsets.UTF_8).toList: _*)\n\ndef bytesToString[F[*]: Sync](stream: Stream[F, Byte]): F[String] = {\n  import extras.fs2.text.syntax._\n  stream.utf8String\n}\n\nval s = "Lorem Ipsum is simply dummy text of the printing and typesetting industry."\n// s: String = "Lorem Ipsum is simply dummy text of the printing and typesetting industry."\nval byteStream = toByteStream[IO](s)\n// byteStream: Stream[IO, Byte] = Stream(..)\n\nbytesToString[IO](byteStream)\n  .unsafeRunSync()\n// res3: String = "Lorem Ipsum is simply dummy text of the printing and typesetting industry."\n'})}),"\n",(0,r.jsx)(e.h2,{id:"utf8string-for-http4s",children:"utf8String for http4s"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-scala",children:'import org.http4s.dsl.io._\nval response = Ok("Hello world!")\n// response: cats.effect.IO[org.http4s.Response[cats.effect.IO]] = Pure(\n//   a = (\n//     `` = Status(code = 200),\n//     `` = HttpVersion(major = 1, minor = 1),\n//     `` = Headers(Content-Type: text/plain; charset=UTF-8, Content-Length: 12),\n//     `` = Stream(..),\n//     `` = org.typelevel.vault.Vault@21ad9d8\n//   )\n// )\nval responseToString = response\n  .flatMap { response =>\n    import extras.fs2.text.syntax._\n    response\n      .body\n      .utf8String\n  }\n// responseToString: cats.effect.IO[String] = Bind(\n//   source = Pure(\n//     a = (\n//       `` = Status(code = 200),\n//       `` = HttpVersion(major = 1, minor = 1),\n//       `` = Headers(Content-Type: text/plain; charset=UTF-8, Content-Length: 12),\n//       `` = Stream(..),\n//       `` = org.typelevel.vault.Vault@21ad9d8\n// ...\nresponseToString.unsafeRunSync()\n// res5: String = "Hello world!"\n'})})]})}function f(t={}){const{wrapper:e}={...(0,a.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(d,{...t})}):d(t)}},8453(t,e,n){n.d(e,{R:()=>i,x:()=>o});var s=n(6540);const r={},a=s.createContext(r);function i(t){const e=s.useContext(a);return s.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function o(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:i(t.components),s.createElement(a.Provider,{value:e},t.children)}}}]);